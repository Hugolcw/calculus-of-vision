
---

# 📽️ 终极执行脚本：视觉的微积分 (Director's Final Cut)

**Project Name:** Sobel Universe (Redux)
**Format:** MP4 Video (Focus: Storytelling & Visualization)
**Est. [cite_start]Duration:** 6-8 Mins (Matching "Topic 1" requirements [cite: 22])
**Core Philosophy:** 知行合一 —— 用离散的代码实现连续的数学理想。

---

### 🎬 Scene 1: 连续的幻象与离散的真相 (The Discrete Reality)

**导演批注：** 这里的关键是保留“理想”的影子，不要让它完全消失，建立强烈的对比感。

| 时间            | 旁白 (Voiceover)                                                                                                             | 画面设计 (Visual Action)                                                                                                                                            | 技术实现 (Technical Implementation)                                                                                                                           |
| :-------------- | :--------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **00:00** | 在数学分析的理想国度里，世界是平滑而连续的。牛顿教导我们，导数是$\Delta x \to 0$ 时切线的优雅起舞。                        | **[理想世界]**`<br>`黑色背景中，一条发光的正弦组合曲线 $f(x)$。一条切线沿着曲线滑动，`DecimalNumber` 实时显示斜率。                                     | **Class:** `FunctionGraph`, `TangentLine<br>`**Logic:** 使用 `ValueTracker` 绑定切线位置。                                                  |
| **00:15** | 然而，在通信与机器视觉的现实世界里，并不存在无穷小。世界被采样、量化。当模拟信号变成数字信号，平滑的曲线坍缩成了离散的阶梯。 | **[坍缩特效 - 幽灵版]**`<br>`曲线并没有完全消失，而是变成了透明度极低（opacity=0.2）的虚线“幽灵”。`<br>`实体的离散柱状图（Stem Plot）从曲线上生长出来。 | **Class:** `Line` (stems), `Dot` (samples)`<br>`**Logic:** `graph.animate.set_opacity(0.2)`。`<br>`保留背景曲线暗示采样定理 (Nyquist)。 |
| **00:30** | 在这里，最小的距离是 1 个像素。在这个颗粒化的世界里，我们失去了“切线”，但我们必须找回“导数”。                            | **[定格困境]**`<br>`镜头推进，聚焦在三个相邻采样点：$x-1$, $x$, $x+1$。巨大的问号悬浮在 $x$ 点上方。                                                | **Class:** `Camera.frame.animate.move_to(...)<br>`**Logic:** 镜头 Zoom In，制造压迫感。                                                         |

---

### 🎬 Scene 2: 泰勒的桥梁 (The Taylor Bridge)

**导演批注：** 节奏控制至关重要。不要堆砌公式，要让公式像动画一样流动。声音设计要配合“抵消”动作。

| 时间            | 旁白 (Voiceover)                                                                                         | 画面设计 (Visual Action)                                                                                                                                                                                                  | 技术实现 (Technical Implementation)                                                                                                                 |
| :-------------- | :------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------- |
| **00:45** | 让我们回到泰勒公式寻找答案。如果我们分别向前和向后迈出一步……                                           | **[泰勒展开]**`<br>`在 $x$ 点左右生成两条虚线抛物线。`<br>`屏幕上方浮现两行公式：`<br>`① $f(x+1) \approx f(x) + f'(x) + \frac{1}{2}f''(x)$`<br>`② $f(x-1) \approx f(x) - f'(x) + \frac{1}{2}f''(x)$ | **Class:** `MathTex<br>`**Logic:** 公式逐行显现，与图形上的左右点对应。                                                               |
| **01:05** | 奇迹发生了。当我们计算“右边减左边”时，偶数阶的项相互抵消。干扰项消失了，只留下了我们最想要的——导数。 | **[数学消消乐]**`<br>`动画演示 ① - ②。`<br>`相同项（如 $f(x)$）变红并在音效配合下炸裂消失（FadeOut）。`<br>`最终化简为：$f'(x) \approx \frac{f(x+1)-f(x-1)}{2}$                                         | **Class:** `TransformMatchingTex<br>`**SFX:** 配合清脆的“气泡破裂”或“粉笔折断”声。`<br>`**Logic:** 重点展示“项的对撞”。 |
| **01:25** | 这就是**中心差分**。系数 `[-1, 0, 1]` 不是随意的拼凑，它是泰勒级数赋予我们的精密近似。           | **[算子结晶]**`<br>`公式中的系数剥离，化作三个发光的数字实体：`<br>-1`, `0`, `1` 横向排列。                                                                                                                 | **Class:** `VGroup` of `Integer<br>`**Logic:** 数字从公式中剥离，形成向量 `kernel_x`。                                            |

---

### 🎬 Scene 3: 算子的解构 (The Anatomy of Sobel)

**导演批注：** 既然是通信工程专业，必须用**颜色编码**来区分功能：红色代表变化（微分），绿色代表平稳（平滑）。

| 时间            | 旁白 (Voiceover)                                                                       | 画面设计 (Visual Action)                                                                                                                                                                                | 技术实现 (Technical Implementation)                                                                                                            |
| :-------------- | :------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :--------------------------------------------------------------------------------------------------------------------------------------------- |
| **01:40** | 但在充满噪声的真实图像中，单纯的求导太过敏感。我们需要一手抓“变化”，一手抓“平稳”。 | **[颜色叙事]**`<br>`屏幕左侧：**红色系**向量 `[-1, 0, 1]` (微分/高通)。`<br>`屏幕上方：**绿色系**向量 `[1, 2, 1]^T` (平滑/低通)。`<br>`数据点上有轻微抖动（噪声）。         | **Class:** `Matrix<br>`**Color:** `set_color(RED)` / `set_color(GREEN)`。`<br>`**Logic:** 视觉区分高通与低通滤波器。 |
| **01:55** | 横向寻找边缘，纵向高斯平滑。当这两个动作在时空中交汇，Sobel 算子诞生了。               | **[矩阵聚变]**`<br>`纵向向量缓缓下落，与横向向量进行**外积 (Outer Product)** 运算。`<br>`生成 $3\times3$ 矩阵，颜色融合为**金黄色**。`<br>`中心位置高亮：$2 \times 0 = 0$。 | **Class:** `IntegerMatrix<br>`**Logic:** 动态演示广播乘法。                                                                      |
| **02:15** | 这是一个精妙的数学滤镜：它既能敏锐地捕捉边缘的跳变，又能宽容地忽略背景的噪点。         | **[最终形态]**`<br>`$3\times3$ 矩阵定格，发出金属光泽。背景隐约浮现通信原理中的频谱图。                                                                                                       | **Class:** `SurroundingRectangle<br>`**Logic:** 强调矩阵结构。                                                                   |

---

### 🎬 Scene 4: 维度的跃迁 (The Dimensional Leap)

**导演批注：** 这里的技术风险最大。**务必先做 2D 切片动画，再转 3D**。渲染前必须对图片进行**降采样**，否则你的电脑会死机。

| 时间            | 旁白 (Voiceover)                                                                               | 画面设计 (Visual Action)                                                                                                                                             | 技术实现 (Technical Implementation)                                                                                                        |
| :-------------- | :--------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------- |
| **02:30** | 我们分析了许久的曲线，到底在哪里？其实，它就藏在每一张照片的像素里。                           | **[切片透视 - 2D阶段]**`<br>`屏幕显示一张黑白照片（RM赛场图）。`<br>`一道激光横向扫过第 N 行。`<br>`系统提取出这一行像素，**在平面上**生成波形图。 | **Class:** `ImageMobject`, `Line<br>`**Critical:** 此时保持 2D 视角，不要急着动 Camera。                                   |
| **02:45** | 如果我们将亮度映射为高度，原本平坦的照片，瞬间变成了一万条起伏的山脉。                         | **[维度升华 - 3D阶段]**`<br>`视角旋转 60 度 (Phi)。`<br>`波形图扩展，整张图片的像素升起，组成 3D 地形 (Surface)。                                          | **Class:** `ThreeDScene`, `Surface<br>`**Performance:** 务必将图片 Resize 到 `(100, 100)` 左右再生成 Surface，避免卡顿。 |
| **03:05** | Sobel 算子的扫描，就是在亿万像素的崇山峻岭中，寻找最陡峭的悬崖。                               | **[全息扫描]**`<br>`Sobel 矩阵（光标）贴地飞行，扫过 3D 地形。`<br>`经过处，陡峭边缘被点亮，平坦区域变黑。                                                 | **Class:** `always_redraw<br>`**Logic:** 演示卷积过程。                                                                      |
| **03:20** | 这一刻，机器拥有了视觉。这些提取出的边缘特征，将作为神经网络的第一口食粮，汇入 AI 的深层大脑。 | **[特征图生成]**`<br>`3D 地形消失，只留下一张黑底白线的**边缘检测图**。`<br>`图像缩小，流入 CNN 网络架构图。                                         | **Class:** `ImageMobject<br>`**Logic:** FadeOut 3D, FadeIn EdgeMap。                                                         |

---

### 🎬 Outro: 知行合一 (Philosophy & Credits)

[cite_start]**导演批注：** 必须包含原创声明和工具说明，这是作业硬性要求 [cite: 59]。

| 时间            | 旁白 (Voiceover)                                                                                                       | 画面设计 (Visual Action)                                                                                                                                 | 技术实现 (Technical Implementation)                                                             |
| :-------------- | :--------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------- |
| **03:35** | 世界也许是连续的，但认知却是离散的。`<br>`微积分给了我们理解无穷的勇气，而离散计算给了我们改变世界的工具。           | **[回溯]**`<br>`画面快速倒放：特征图 $\to$ 3D 地形 $\to$ 矩阵 $\to$ 泰勒公式 $\to$ $f(x)$ 曲线。                                       | **Class:** `AnimationGroup` (lagged\_start)`<br>`**Logic:** 蒙太奇回顾。        |
| **03:50** | 从$\Delta x \to 0$ 的数学理想，到 `pixel = 1` 的工程现实。`<br>`这就是我们作为未来的通信工程师，知行合一的旅程。 | **[片尾字幕]**`<br>`Project Sobel`<br>`Visuals: Manim Community`<br>`Code: Python 3.10`<br>`**原创声明：本视频所有动画均为编程生成** | [cite_start]**Class:** `Text<br>`**Compliance:** 明确标注 "原创声明" [cite: 59]。 |

---

### 🛠️ 最终技术检查清单 (Final Checklist)

1. [cite_start]**文件命名：** 确保最终导出的视频命名符合规范：`数学与生活-AI中的数学-2025xxxx姓名-视频.mp4` [cite: 55, 56]。
2. [cite_start]**时长控制：** 虽然方向一上限是 8 分钟 [cite: 22]，但建议控制在 5-6 分钟，留出余量，避免拖沓。
3. [cite_start]**Markdown 文档：** 剧本中的“技术实现”列直接对应你需要提交的 Markdown 说明文档中的“怎么操作”部分 [cite: 39]。
4. **图片素材：** 找一张简单的图（如简单的几何体或 RM 徽标），对比度要高，这样 Sobel 边缘检测的效果才震撼。
5. **降采样代码片段：** 在生成 Surface 之前，记得加这行代码：
   ```python
   image_array = image.get_pixel_array()
   # 每隔 10 个像素取一个点，防止 Manim 渲染爆炸
   downsampled_array = image_array[::10, ::10]
   ```
